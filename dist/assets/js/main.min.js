let authFormSwitcherTrigger=document.querySelector(".js-switcher-trigger"),authPasswordVisibleTriggers=(authFormSwitcherTrigger&&authFormSwitcherTrigger.addEventListener("click",function(){for(var e of this.children)e.classList.toggle("active");setTimeout(function(){var e=document.querySelectorAll(".js-auth-form");if(e)for(var t of e)t.classList.toggle("active")},200)}),document.querySelectorAll(".js-password-visible-trigger"));if(authPasswordVisibleTriggers)for(let e of authPasswordVisibleTriggers)e.addEventListener("click",function(){var e=this.querySelectorAll("svg");if(e)for(var t of e)t.classList.toggle("active");e=this.parentNode.querySelector("input");e&&("password"===e.type?e.type="text":"text"===e.type&&(e.type="password"))});let authForms=document.querySelectorAll(".js-auth-form");if(authForms)for(let a of authForms)a.addEventListener("submit",function(e){e.preventDefault();let t=new FormData(a),o=(t=Object.fromEntries(t.entries()),t=JSON.stringify(t),new XMLHttpRequest);o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText),t=a.querySelector(".js-auth-form-response");(e||t)&&(t.innerHTML='<span style="color: green;">'+e.message+"</span>")}else if(4===o.readyState&&400===o.status){var t=JSON.parse(o.responseText),r=a.querySelector(".js-auth-form-response");if(t||r){r.innerHTML="";for(var s of t.messages)r.insertAdjacentHTML("beforeend",'<span style="color: red;">'+s+"</span></br>")}}},o.open("POST",this.getAttribute("action"),!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(t)});